@if (dataSource && dataSource.data.length > 0) {
<table mat-table [dataSource]="dataSource" matSort>
  @for (column of columns(); track column.field) {
  <ng-container [matColumnDef]="column.field">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>
      {{ column.header }}
    </th>
    <td mat-cell *matCellDef="let row" appTruncateText [maxLength]="50">
      @if (column.field === 'status') {
      <span class="status-{{ row.status }}">
        {{ row.status }}
      </span>
      }@else { @if (column.type === 'date') {
      {{ row[column.field] | date : "dd/MM/yyyy" }}
      } @else {
      {{ row[column.field] }}
      } }
    </td>
  </ng-container>
  }
  <tr mat-header-row *matHeaderRowDef="displayedColumns()"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns()"></tr>
</table>
<mat-paginator [pageSizeOptions]="[10, 25, 50, 100]"></mat-paginator>
}
